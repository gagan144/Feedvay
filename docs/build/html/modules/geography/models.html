

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Models &mdash; feedvay 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="feedvay 1.0 documentation" href="../../index.html"/>
        <link rel="up" title="Geography" href="index.html"/>
        <link rel="next" title="Tools" href="tools.html"/>
        <link rel="prev" title="Geography" href="index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> feedvay
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../main/index.html">Main App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../management_commands/index.html">Management Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/index.html">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clients/index.html">Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console/index.html">Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../critics/index.html">Critics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feedback/index.html">Feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../form_builder/index.html">Form builder</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Geography</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#contents">Contents</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="views.html">Views</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../languages/index.html">Languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../market/index.html">Market</a></li>
<li class="toctree-l1"><a class="reference internal" href="../owlery/index.html">Owlery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reports/index.html">Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storeroom/index.html">Store Room</a></li>
<li class="toctree-l1"><a class="reference internal" href="../surveys/index.html">Survey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Watchdog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">feedvay</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Geography</a> &raquo;</li>
      
    <li>Models</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/modules/geography/models.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="models">
<h1>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h1>
<p>List of database models (MySQL &amp; MongoDb) for geography app.</p>
<span class="target" id="module-geography.models"></span><dl class="class">
<dt id="geography.models.AdministrativeHierarchy">
<em class="property">class </em><code class="descclassname">geography.models.</code><code class="descname">AdministrativeHierarchy</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="headerlink" href="#geography.models.AdministrativeHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>MongoDb collection to define administrative division hierarchy schema.
This does not contains data but rather schema definition of the hierarchy.</p>
<p>Any <a class="reference internal" href="#geography.models.GeoLocation" title="geography.models.GeoLocation"><code class="xref py py-class docutils literal"><span class="pre">geography.models.GeoLocation</span></code></a> instance as a part of some hierarchy contains
reference to document of this collection which can be used to determine nature of the hierarchy.</p>
<p>Administrative hierarchies are tagged with country code which can be used to filter out
all hierarchy applicable for a country.</p>
<p>The schema of the hierarchy is defined by list of of division types.
Te first division is considered to be at root level followed by second division as its child
and so on. For example:</p>
<blockquote>
<div>Hierarchy: Country &gt; State &gt; City &gt; Locality
Schema: [&#8216;country&#8217;, &#8216;state&#8217;, &#8216;city&#8217;, &#8216;locality&#8217;]</div></blockquote>
<p>However, there can be two division types on same level. In such a case, the element in this list must
be a <strong>list</strong> instead of string. For example:</p>
<blockquote>
<div>Hierarchy: Country &gt; State &gt; City/Town/Village &gt; Locality
Schema: [&#8216;country&#8217;, &#8216;state&#8217;, [&#8216;city&#8217;, &#8216;town&#8217;, &#8216;village&#8217;], &#8216;locality&#8217;]</div></blockquote>
<dl class="docutils">
<dt><strong>Conventions</strong>:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">hierarchy_uid</span></code> uses conventions same as that of variable declaration. Label must start with a letter
followed by one or more letters, digits or underscore all in lower cases.</li>
<li>For <code class="docutils literal"><span class="pre">hierarchy_uid</span></code> for a particular country, use country code prefix followed by heirarchy label</li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is <strong>STATIC MODEL</strong> and is not subjected to change. Please be careful which making
any changes as these will be update corresponding location is <a class="reference internal" href="#geography.models.GeoLocation" title="geography.models.GeoLocation"><code class="xref py py-class docutils literal"><span class="pre">geography.models.GeoLocation</span></code></a>
instances which may lead to inconsistencies. Any change here requires manual updates in GeoLocation
collection.</p>
</div>
<p><strong>Authors</strong>: Gagandeep Singh</p>
<dl class="method">
<dt id="geography.models.AdministrativeHierarchy.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>**write_concern</em><span class="sig-paren">)</span><a class="headerlink" href="#geography.models.AdministrativeHierarchy.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-delete method. (Not allowed)</p>
<p><strong>Authors</strong>: Gagandeep Singh</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="geography.models.DivisionType">
<em class="property">class </em><code class="descclassname">geography.models.</code><code class="descname">DivisionType</code><a class="headerlink" href="#geography.models.DivisionType" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum class to define various administrative division types such as Country, State, City etc.</p>
<p><strong>Authors</strong>: Gagandeep Singh</p>
</dd></dl>

<dl class="class">
<dt id="geography.models.GeoDataSource">
<em class="property">class </em><code class="descclassname">geography.models.</code><code class="descname">GeoDataSource</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="headerlink" href="#geography.models.GeoDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Collection to store referneces to various data sources used for creating
geographical database.</p>
<p><strong>Authors</strong>: Gagandeep Singh</p>
<dl class="method">
<dt id="geography.models.GeoDataSource.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>**write_concern</em><span class="sig-paren">)</span><a class="headerlink" href="#geography.models.GeoDataSource.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-delete method. (Not allowed)</p>
<p><strong>Authors</strong>: Gagandeep Singh</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="geography.models.GeoLocation">
<em class="property">class </em><code class="descclassname">geography.models.</code><code class="descname">GeoLocation</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="headerlink" href="#geography.models.GeoLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>MongoDb collection that stores location or terrain or to be precise administrative division such as a
Country, State, City, Town, Village, Locality, District etc.</p>
<p><strong>Collection Design</strong>:</p>
<blockquote>
<div><ul class="simple">
<li>Each entity/row/document in this collection defines a location or a terrain of some administrative division type (Country/State/City etc).</li>
<li>Each location can be associated or can be a part of one or more administrative division hierarchy. These are maintained in
embedded list document that specifies hierarchy codename, level of this location in the hierarchy and path.</li>
<li>Location may have a post office. If so details are maintained in embedded field <code class="docutils literal"><span class="pre">post_office</span></code> with pincode etc. This is usually
applicable for location of type <code class="docutils literal"><span class="pre">locality</span></code>.</li>
<li>Location may have some geographical details such as centroid GPS location or a geographical shape.</li>
<li>Use <code class="docutils literal"><span class="pre">code</span></code> a primary key to identify a record.</li>
</ul>
</div></blockquote>
<p><strong>Uniqueness</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">division_type</span></code> : Name cannot be duplicate for same division type.</li>
<li><code class="docutils literal"><span class="pre">code_iso</span></code> : ISO 3166 codes must be unique for non null values</li>
<li><code class="docutils literal"><span class="pre">pk</span></code>, <code class="docutils literal"><span class="pre">hierarchies.hierarchy</span></code>, <code class="docutils literal"><span class="pre">hierarchies.level</span></code> : Location cannot be at various level under a hierarchy.</li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This collection is <strong>STATIC</strong> and is not subjected to often changes since most of the data has already been verified.
Please be careful while updating data as this ORM does not provide any triggers or validations to check consistency.
Careless amendments can result into unusual behavior. Please read the document carefully.</p>
<p class="last"><strong>DO NOT</strong> use mongo generated id to refer location. Use <code class="docutils literal"><span class="pre">code</span></code> instead.</p>
</div>
<p><strong>Authors</strong>: Gagandeep Singh</p>
<dl class="class">
<dt id="geography.models.GeoLocation.AdministrativeHierarchy">
<em class="property">class </em><code class="descname">AdministrativeHierarchy</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geography.models.GeoLocation.AdministrativeHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>MongoDb embedded document to define location node in administrative division hierarchy.</p>
<p><strong>Authors</strong>: Gagandeep Singh</p>
</dd></dl>

<dl class="class">
<dt id="geography.models.GeoLocation.PostOffice">
<em class="property">class </em><code class="descclassname">GeoLocation.</code><code class="descname">PostOffice</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#geography.models.GeoLocation.PostOffice" title="Permalink to this definition">¶</a></dt>
<dd><p>Mongo embedded document for post office.</p>
<p><strong>Authors</strong>: Gagandeep Singh</p>
</dd></dl>

<dl class="method">
<dt id="geography.models.GeoLocation.delete">
<code class="descclassname">GeoLocation.</code><code class="descname">delete</code><span class="sig-paren">(</span><em>**write_concern</em><span class="sig-paren">)</span><a class="headerlink" href="#geography.models.GeoLocation.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-delete method. (Not allowed)</p>
<p><strong>Authors</strong>: Gagandeep Singh</p>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tools.html" class="btn btn-neutral float-right" title="Tools" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Geography" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Gagandeep Singh.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>