{# Copyright (C) 2016 Feedvay (Gagandeep Singh: singh.gagan144@gmail.com) - All Rights Reserved #}
{# Content in this document can not be copied and/or distributed without the express #}
{# permission of Gagandeep Singh. #}
{% load static %}
<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Feedvay | Sign Up</title>

    <link href="{% get_static_prefix %}ui/css/bootstrap.min.css" rel="stylesheet">
    <link href="{% get_static_prefix %}ui/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="{% get_static_prefix %}ui/css/animate.css" rel="stylesheet">

    <link href="{% get_static_prefix %}ui/css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">
    <link href="{% get_static_prefix %}lib/growl/jquery.growl.css" rel="stylesheet">
    <link href="{% get_static_prefix %}ui/css/plugins/ladda/ladda-themeless.min.css" rel="stylesheet">

    <link href="{% get_static_prefix %}ui/css/style-default.css" rel="stylesheet">

    <style>
        .col-custom{
            padding: 0px 5px !important;
        }

        @media (max-width: 767px) {
            .content_body{
                padding-top: 20px;
            }

            .left_content {
                display: none;
            }
        }

        @media (min-width: 767px) {
            .content_body{
                padding-top: 60px;
            }

            .mobile_show{
                display: none;
            }

        }
    </style>

</head>

<body class="gray-bg">

    <div class="loginColumns animated fadeInDown content_body">
        <div class="row">
            <!-- Left content -->
            <div class="col-md-5 left_content">
                <div align="center" style="margin-bottom: 20px;">
                    <img src="{% get_static_prefix %}images/feedvay_logo.png" style="width: 200px;">
                    <p style="font-weight: 600;">
                        Feedbacks
                        &nbsp;●&nbsp;
                        Surveys
                        &nbsp;●&nbsp;
                        Market intelligence
                    </p>
                </div>


                <h2 class="font-bold">Welcome to Feevuy.com</h2>

                <p>
                    Perfectly designed and precisely prepared admin theme with over 50 pages with extra new web app views.
                </p>

                <p>
                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.
                </p>

                <p>
                    When an unknown printer took a galley of type and scrambled it to make a type specimen book.
                </p>

                <p>
                    <small>It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.</small>
                </p>

            </div>

            <!-- Signup form -->
            <div class="col-md-7">
                <div class="ibox-content text-center">
                    <div class="mobile_show" align="center" style="margin-bottom: 20px;">
                        <img src="{% get_static_prefix %}images/feedvay_logo.png" style="width: 200px;">
                        <p style="font-weight: 600;">
                            Feedbacks
                            &nbsp;●&nbsp;
                            Surveys
                            &nbsp;●&nbsp;
                            Market intelligence
                        </p>
                    </div>

                    <h3 class="text-navy">Sign up now!</h3>

                    <form id="form_signup" class="m-t" role="form" method="post">{% csrf_token %}
                        <div style="margin-bottom: 15px;">
                            <div class="input-group m-b {% if form_reg.mobile_no.errors or username_exists%}has-error{% endif %}" style="margin-bottom: 0px;">
                                <span class="input-group-addon">{{ country_tel_code }}</span>
                                <input type="text" class="form-control" name="mobile_no" placeholder="Mobile number" value="{{ form_reg.mobile_no.value|default_if_none:"" }}"  maxlength="10" required>
                            </div>
                            {% if form_reg.mobile_no.errors %}
                                <div class="error">
                                    {% for err in form_reg.mobile_no.errors %}
                                        * {{ err }} <br/>
                                    {% endfor %}
                                </div>
                            {% endif %}
                            {% if username_exists %}
                                <div class="error">* Already registered!</div>
                            {% endif %}
                        </div>

                        <div class="row" style="margin: 0px -5px !important;">
                            <div class="col-xs-6 col-custom">
                                <div class="form-group">
                                    <input type="text" class="form-control" name="first_name" value="{{ form_reg.first_name.value|default_if_none:"" }}" placeholder="First name*" required>
                                </div>
                            </div>
                            <div class="col-xs-6 col-custom">
                                <div class="form-group">
                                    <input type="text" class="form-control" name="last_name" value="{{ form_reg.first_name.value|default_if_none:"" }}" placeholder="Last name*" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-group {% if form_reg.password.errors %}has-error{% endif %}">
                            <input type="password" id="fld_password" name="password" class="form-control" placeholder="Password" required>
                        </div>

                        <div class="form-group {% if form_reg.confirm_password.errors %}has-error{% endif %}">
                            <input type="password" name="confirm_password" class="form-control" placeholder="Confirm password" required>
                        </div>

                        <div class="form-group" align="left">
                            <div class="checkbox checkbox-primary" style="margin: 0px;">
                                <input id="chk_terms_n_conditions" type="checkbox" name="terms_n_conditions" required>
                                <label for="chk_terms_n_conditions">
                                    I agree to the terms and conditions.
                                </label>
                            </div>
                        </div>

                        <div style="margin-bottom: 15px;" align="center">
                            <script>
                                function callback_recaptcha(response){
{#                                    alert(response);#}
                                    if(response.length > 0){
                                        $('#btn_register').show();
                                    }else{
                                        $('#btn_register').hide();
                                    }
                                }
                            </script>

{#                            {{ form_reg.captcha }}#}

                            <script src="https://www.google.com/recaptcha/api.js?hl=en"></script>
                            <div class="g-recaptcha" data-sitekey="{{ RECAPTCHA_PUBLIC_KEY }}" data-callback="callback_recaptcha"></div>

                            {% if form_reg.captcha.errors %}
                                {% if form_reg.captcha.errors %}
                                    <div class="error">
                                        Please prove that you are a human.
                                    </div>
                                {% endif %}
                            {% endif %}
                        </div>

                        <button id="btn_register" type="submit" class="btn btn-primary block full-width m-b ladda-button" data-style="zoom-in" style="display: none !important;">Register</button>

                        <div style="margin-top: 20px;">
                            <p class="text-muted text-center">
                                <small>Already have an account?</small>
                            </p>
                            <a class="btn btn-sm btn-white btn-block" href="{% url 'accounts_login' %}">Login</a>
                        </div>
                    </form>
                </div>
            </div>
            <!-- Signup form -->
        </div>

    </div>

    <!-- Mainly scripts -->
    <script src="{% get_static_prefix %}ui/js/jquery-2.1.1.js"></script>
    <script src="{% get_static_prefix %}ui/js/bootstrap.min.js"></script>

    <script src="{% get_static_prefix %}ui/js/plugins/validate/jquery.validate.min.js"></script>
    <script src="{% get_static_prefix %}lib/growl/jquery.growl.js"></script>

    <!-- Ladda -->
    <script src="{% get_static_prefix %}ui/js/plugins/ladda/spin.min.js"></script>
    <script src="{% get_static_prefix %}ui/js/plugins/ladda/ladda.min.js"></script>
    <script src="{% get_static_prefix %}ui/js/plugins/ladda/ladda.jquery.min.js"></script>

    <script>
        $(function(){
            $("#form_signup").validate({
                errorPlacement: function (error, element) {
                    var elem_name = element.attr("name");

                    if (elem_name == "mobile_no" || elem_name == 'terms_n_conditions') {
                        error.insertAfter(element.parent());
                    } else {
                        error.insertAfter(element)
                    }
                },
                rules: {
                    mobile_no: {
                        required: true,
                        digits: true,
                        minlength: 10,
                        maxlength: 10,
{#                        errorPlacement: function (error, element) {#}
{#                            return error.parentNode; //error.insertAfter(element);#}
{#                        }#}
                    },
                    first_name: {
	                    required: true,
	                },
                    last_name: {
	                    required: true,
	                },
                    password: {
	                    required: true,
	                    minlength: 3,
	                },
                    confirm_password: {
                        required: true,
	                    minlength: 3,
                        equalTo: "#fld_password"
                    },
                    terms_n_conditions: {
                        required: true
                    }
                },
                messages: {
                    username: "Please enter your 10-digit mobile number.",
                    first_name: {
                        required: "Required.",
                    },
                    last_name: {
                        required: "Required.",
                    },
                    password: {
                        required: "Please enter your password.",
                        minlength: "Password should be minimum 3 characters.",
                    },
                    confirm_password: {
                        required: "Please enter your password.",
                        minlength: "Password should be minimum 3 characters.",
                        equalTo: "Password does not match.",
                    },
                    terms_n_conditions: "Kindly agree to terms and condition."
                }
            });

            // Bind ladda buttons
            $( '.ladda-button' ).ladda( 'bind');

        });
    </script>

</body>
</html>